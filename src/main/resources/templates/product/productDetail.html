<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layouts/header :: header(~{::title}, ~{::link}, ~{::script})">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>스프링 마켓 - 상품 상세</title>
  <link rel="stylesheet" th:href="@{/css/product.css}">
  <script type="text/javascript" th:src="@{/js/productDetail.js}"></script>
</head>
<body>
  <nav th:replace="layouts/nav"></nav>
  <main class="product-form w-100 m-auto mb-5">
    <div class="card">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="false">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
        </div>
        <div class="carousel-inner">

          <div class="carousel-item active">
            <img th:src="${product.filePath}" class="d-block w-100" width="800px" height="350px" alt="..."/>
          </div>

        </div>
      </div>
      <div class="card-body p-0">
        <div class="d-flex justify-content-between align-items-center border-bottom ps-3 pe-3">
          <div class="d-flex align-items-center">
            <img src="/img/개선.PNG" width="50px" height="50px" class="rounded-circle border border-dark mt-3 mb-3 me-2"/>
            <h5 class="m-0" th:text="${product.nickname}"></h5>
          </div>

          <div class="dropdown-center">
            <a class="dropdown-toggle link-dark cursor-pointer cursor-pointer" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-ellipsis-vertical fa-2xl"></i>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a class="dropdown-item cursor-pointer" th:text="${product.orderStatus}"></a>
              </li>
              <li>
                <a class="dropdown-item" href="/product/productEdit">게시물 수정</a>
              </li>
              <li>
                <a class="dropdown-item cursor-pointer">삭제</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="p-3">
          <select class="form-select mb-3 order-state-select">
            <option th:selected="${product.orderStatus == 'wait'}" value="1">판매중</option>
            <option th:selected="${product.orderStatus == 'trading'}" value="2">예약중</option>
            <option th:selected="${product.orderStatus == 'complete'}" value="3">거래완료</option>
          </select>
          <p class="card-text" th:text="${product.name}">

          </p>
          <span class="text-muted" th:text="${product.categoryId}"></span>
          <p class="card-text mt-3" th:text="${product.content}">

          </p>
          <div class="text-muted">
            <span th:text="${product.chat}"></span> <span th:text="${product.wish}"></span>
          </div>
        </div>
        <div class="border-top p-3 d-flex justify-content-between align-items-center">
          <div class="fs-5">
            <a class="link-dark text-decoration-none cursor-pointer"><i class="fa-regular fa-heart me-1"></i></a><span th:text="'|'+${product.price}+'원'"> </span>
          </div>
          <a class="btn btn-primary chatBtn cursor-pointer">채팅하기</a>
        </div>
      </div>
    </div>
  </main>
  <footer th:replace="layouts/footer"></footer>
</body>
</html>
